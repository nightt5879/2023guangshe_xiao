# 2023guangshe
 

# X. 测试汇总记录
## X.1 整体流程
- [ ] 1. 按键选择队伍<br>
    使用按键选择队伍（长按与按下再松开），LCD辅助提示

- [ ] 2. 识别宝藏图<br>
    LCD显示图像进行辅助提示，使用按键识别图像并显示识别后的二值化图像<br>
    如果识别有问题在进行二值化显示识别结果确认时候进行长按重新识别.

- [X] 3. 根据坐标完成路劲规划<br>
    根据得到的宝藏坐标进行路劲规划并进行一系列处理输出标准格式的指令

- [X] 4. 进行巡线完成任务<br>
    根据指令执行并完成巡线
  

## X.2 需要解决的问题
- [ ] 1. 宝藏分类问题<br>
    存在将蓝色圆形识别成几次蓝色三角之后全是别成不存在宝藏的问题<br>

- [ ] 2.路劲规划优化<br>
    在一个象限内找到宝藏后，另外一个宝藏显然就不是需要去的了，<br>
    可以进行寻找下一个象限宝藏的寻找了<br>

- [ ] 3.宝藏方向问题
    拐角处的两个宝藏朝向不确定（校赛说了朝向入口，先解决这个先）。<br>
    需要考虑宝藏不一定朝着哪个方向的问题（除非细则有详细说明）。

## X.3 bug汇总
### X.3.1 csi摄像头bug
问题描述：再断电后上电会出现无法读取csi摄像头问题<br>
解决方法：在上电前请不要插入USB摄像头，在上电后打开即可

### X.3.3 USB摄像头宝藏分类bug
问题描述：在多次调用函数 classify_treasure(team="red")时，会出现无法初始化摄像头问题<br>
解决方法：初始化摄像头进行五次尝试，如果不行直接返回该宝藏为假宝藏并结束函数

### X.3.3 PID巡线容易在转弯后异常break
问题描述：转弯后车子处于不稳定状态摄像头读取画面也许有问题可能回触发break<br>
解决方法：利用一个参数将PID巡线控制【在巡线一定时间后】才能触发break

### X.3.4 车子在开始进入宝藏区可能会偏离曲线
问题描述：由于没有陀螺仪闭环+三轮车有一个万向轮导致有几率出发的时候就歪了车头<br>
解决方法：在开始前把车子往前推一小段”缕一缕"万向轮位置，然后再开始
